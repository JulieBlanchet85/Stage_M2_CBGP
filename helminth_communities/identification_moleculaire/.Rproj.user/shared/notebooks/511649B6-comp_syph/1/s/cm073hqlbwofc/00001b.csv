"0","### Bootstrap de plus de 70"
"0","# Étape 1 : Nettoyage - on garde que les lignes sans NA"
"0","t_clean <- t[!is.na(t$esp_selon_arbre_phylo) & !is.na(t$morphotype), ]"
"0",""
"0","# Étape 2 : Regrouper les stroma1, stroma2, stroma3, etc. en ""Syphacia_stroma"""
"0","t_clean$esp_selon_arbre_phylo <- gsub(""^Syphacia_stroma[0-9]+$"", ""Syphacia_stroma"", t_clean$esp_selon_arbre_phylo)"
"0",""
"0","# Étape 3 : Tableau de fréquences"
"0","table_combi <- as.data.frame(table(t_clean$esp_selon_arbre_phylo, t_clean$morphotype))"
"0","colnames(table_combi) <- c(""esp_selon_arbre_phylo"", ""morphotype"", ""count"")"
"0",""
"0","# Étape 4 : Totaux par esp_selon_arbre_phylo"
"0","totaux <- aggregate(count ~ esp_selon_arbre_phylo, data = table_combi, sum)"
"0","colnames(totaux) <- c(""esp_selon_arbre_phylo"", ""total"")"
"0",""
"0","# Étape 5 : Fusion et calcul du pourcentage"
"0","table_combi <- merge(table_combi, totaux, by = ""esp_selon_arbre_phylo"")"
"0","table_combi$percentage <- 100 * table_combi$count / table_combi$total"
"0",""
"0","# Résultat final"
"0","print(table_combi)"
